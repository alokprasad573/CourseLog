<%- include('partials/header') %>
<div class="max-w-5xl mx-auto mt-10 px-4">
    <h2 class="text-3xl font-bold text-center text-blue-700 mb-6">Student Records</h2>

    <!-- Add Student Form -->
    <form method="POST" action="/dashboard" class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-8">
        <input name="name" placeholder="Name" required
               class="px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-300" />
        <input name="course" placeholder="Course" required
               class="px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-300" />
        <input name="age" placeholder="Age" type="number" required
               class="px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-300" />
        <input name="city" placeholder="City"
               class="px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-300" />
        <button
                class="md:col-span-3 bg-blue-500 text-white py-2 rounded hover:bg-blue-600 transition duration-200">Add
            Student</button>
    </form>

    <!-- Student List -->
    <div class="space-y-4">
        <% if (students.length === 0) { %>
            <p class="text-center text-gray-500">No student records found.</p>
        <% } else { %>
            <% students.forEach(student => { %>
                <div class="p-4 bg-white shadow rounded flex flex-col md:flex-row justify-between items-start md:items-center">
                    <div>
                        <p class="font-semibold text-lg text-gray-800"><%= student.name %></p>
                        <p class="text-sm text-gray-600">Age: <%= student.age %> | City: <%= student.city %></p>
                    </div>
                    <form method="GET" action="/dashboard/edit/<%= student._id %>" class="mt-2 md:mt-0 mr-4">
                        <button class="text-blue-500 hover:underline hover:text-blue-600 transition duration-200">Edit</button>
                    </form>
                    <form method="POST" action="/dashboard/delete/<%= student._id %>" class="mt-2 md:mt-0">
                        <button
                                class="text-red-500 hover:underline hover:text-red-600 transition duration-200">Delete</button>
                    </form>
                </div>
            <% }) %>
        <% } %>
    </div>
</div>
<%- include('partials/footer') %>